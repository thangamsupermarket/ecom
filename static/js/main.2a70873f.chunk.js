(this.webpackJsonptsm=this.webpackJsonptsm||[]).push([[0],{130:function(e,t,a){e.exports=a(149)},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t),a.d(t,"firebaseConfig",(function(){return Pt})),a.d(t,"store",(function(){return Dt}));var n=a(0),r=a.n(n),c=a(12),l=a.n(c),o=(a(135),a(28)),i=a(19),u=a(15),s=a(9),d=(a(136),a(213)),m=a(195),f=a(226),p=a(200),E=a(205),g=a(202),h=a(203),v=a(204),b=(a(137),a(228)),O=a(230),y=a(198),j=a(199),C=a(206),w=a(207),I=a(100),S=a.n(I),N=a(22),k=a(104),P=a.n(k),U=a(94),D=a(95),T=a(118),x=a(117),A=function(e){Object(T.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(D.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",{className:"error-block"},r.a.createElement("p",null,r.a.createElement("span",null,"Something went wrong. "),r.a.createElement(o.b,{to:"/login"},"Go To Dashboard"))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(n.Component),L=a(17),R=function(e){return{type:"USER_LOGGED_IN",payload:{loggedInUserUID:e}}},F=a(103),_=a.n(F),z=a(54),M=a.n(z),B=a(101),G=a.n(B),H=a(102),V=a.n(H),J=a(105),W=a.n(J),Y=a(106),q=a.n(Y),K=Object(m.a)({list:{width:250},fullList:{width:"auto"}}),Q=Object(m.a)((function(e){return Object(b.a)({root:{display:"flex","& > *":{margin:e.spacing(1)}},orange:{color:e.palette.getContrastText(y.a[500]),backgroundColor:y.a[500]},purple:{color:e.palette.getContrastText(j.a[500]),backgroundColor:j.a[500]}})})),X=Object(m.a)((function(e){return Object(b.a)({root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"red"}})})),Z={updateLoggedInUser:R},$=Object(i.g)(Object(L.b)((function(e){return e}),Z)((function(e){var t=K(),a=Q(),n=X(),c=function(){""!==e.auth.loggedInUserUID&&e.history.push("/my-profile")},l=function(){""!==e.auth.loggedInUserUID&&e.history.push("/cart")},o=function(){},i=function(){},u=function(){},s=function(t){N.a.auth().signOut().then((function(){e.updateLoggedInUser(""),e.history.push("/login")})).catch((function(e){console.log(e)}))},d=function(){e.history.push("/login-user")},m=function(){e.history.push("/signup")};return r.a.createElement("div",null,r.a.createElement(A,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{anchor:"left",className:a.root,open:e.open,onClose:function(){return e.onClickAway()},onOpen:function(){}},r.a.createElement("div",null,"\xa0"),r.a.createElement("div",null,"\xa0"),r.a.createElement(C.a,{className:n.root},r.a.createElement(w.a,{avatar:r.a.createElement(O.a,{"aria-label":"recipe",className:n.avatar},e.profile.name&&e.profile.name[0]),title:e.profile.name,subheader:r.a.createElement("span",null," ",e.profile.name?"Verified Customer":"Unknown User"," ")})),r.a.createElement("div",{className:t.list,role:"presentation",onClick:function(){return e.onClickAway()},onKeyDown:function(){return e.onClickAway()}},r.a.createElement(p.a,null,""!==e.auth.loggedInUserUID?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{onClick:c},r.a.createElement(h.a,null,r.a.createElement(S.a,null)),r.a.createElement(v.a,null,"My Profile")),r.a.createElement(g.a,{onClick:l},r.a.createElement(h.a,null,r.a.createElement(M.a,null)),r.a.createElement(v.a,null,"My Cart")),r.a.createElement(g.a,{onClick:o},r.a.createElement(h.a,null,r.a.createElement(G.a,null)),r.a.createElement(v.a,null,"My Orders")),r.a.createElement(g.a,{onClick:i},r.a.createElement(h.a,null,r.a.createElement(V.a,null)),r.a.createElement(v.a,null,"My Wishlist"))," "):null,r.a.createElement(g.a,{onClick:u},r.a.createElement(h.a,null,r.a.createElement(_.a,null)),r.a.createElement(v.a,null,"Contact Shop Owner")),""!==e.auth.loggedInUserUID?r.a.createElement(g.a,{onClick:s},r.a.createElement(h.a,null,r.a.createElement(P.a,null)),r.a.createElement(v.a,null,"Logout")):null,""===e.auth.loggedInUserUID?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{onClick:d},r.a.createElement(h.a,null,r.a.createElement(W.a,null)),r.a.createElement(v.a,null,"Login")),r.a.createElement(g.a,{onClick:m},r.a.createElement(h.a,null,r.a.createElement(q.a,null)),r.a.createElement(v.a,null,"Signup"))):null),r.a.createElement(E.a,null),r.a.createElement(p.a,null))))))}))),ee=a(208),te=a(209);function ae(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement(C.a,{onClick:function(t){e.prodOnClick(e.prodId)}},r.a.createElement(ee.a,null,r.a.createElement(te.a,null,r.a.createElement("img",{src:"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Products/1.jpg",width:"100",height:"100",alt:"product"}),r.a.createElement("h2",null,e.prodTitle),r.a.createElement("p",{className:"font-size-16"},e.prodDesc),r.a.createElement("p",null,"\u20b9",e.prodPrice)))))))}var ne=a(210),re=(a(146),function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){e.products.length>0&&setTimeout((function(){l(!0)}),2e3)}),[e.products]),r.a.createElement("div",null,!0===c?e.products.map((function(t,a){return r.a.createElement(ae,{key:a,prodId:t.prodId,prodCategory:t.prodCategory,prodOnClick:e.onClick,prodTitle:t.prodName,prodDesc:t.prodDesc,prodPrice:t.prodPrice})})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement(ne.a,{variant:"rect",width:170,height:170,animation:"wave"}))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement(ne.a,{variant:"rect",width:170,height:170,animation:"wave"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement(ne.a,{variant:"rect",width:170,height:170,animation:"wave"}))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement(ne.a,{variant:"rect",width:170,height:170,animation:"wave"})))))}),ce=a(107),le=a.n(ce),oe=a(108),ie=a.n(oe),ue=a(109),se=a.n(ue),de=a(212),me=a(6),fe=a(227),pe=a(224);function Ee(e){return r.a.createElement(pe.a,Object.assign({style:{marginTop:"2px"},elevation:6,variant:"filled"},e))}var ge=Object(me.a)((function(e){return{badge:{right:-3,top:13,padding:"0 1px"}}}))(de.a),he=Object(i.g)(Object(L.b)((function(e){return e}),null)((function(e){var t=r.a.useState(!1),a=Object(s.a)(t,2),n=a[0],c=a[1],l=function(){c(!1)},o=function(){e.openSideNavBar()},i=function(){""!==e.auth.loggedInUserUID?e.history.push("/cart"):c(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{container:!0,className:"mobile-header"},r.a.createElement(d.a,{item:!0,onClick:o},r.a.createElement(le.a,{onClick:o,fontSize:"small"})),r.a.createElement(d.a,{item:!0,onClick:function(){e.history.push("/login")}},r.a.createElement("span",{className:"item"},"Thangam Supermarket")),r.a.createElement(d.a,{container:!0,className:"social-icons"},r.a.createElement(ie.a,{className:"icon-item",fontSize:"small"}),r.a.createElement(ge,{onClick:i,badgeContent:e.cart.cart&&e.cart.cart.length,color:"secondary"},r.a.createElement(M.a,{onClick:i,className:"icon-item",fontSize:"small"})),r.a.createElement(se.a,{onClick:function(){""!==e.auth.loggedInUserUID?e.history.push("/my-profile"):c(!0)},className:"icon-item",fontSize:"small"}))),r.a.createElement(fe.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:n,autoHideDuration:3e3,onClose:l},r.a.createElement(Ee,{variant:"filled",onClose:l,severity:"error"},"Please Login First")))}))),ve=(a(147),a(110)),be=a.n(ve),Oe=Object(i.g)((function(e){var t=r.a.useState(""),a=Object(s.a)(t,2),n=a[0],c=a[1],l=r.a.useRef(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"search"},r.a.createElement("input",{required:!0,ref:l,type:"text",list:"browsers",className:"searchTerm",placeholder:"Search from 1000+ products",title:"Please search your need here",onChange:function(e){c(e.target.value)}}),r.a.createElement("button",{onClick:function(){""!==n?e.history.push("/search?q="+n):l.current.focus()},type:"submit",className:"searchButton"},r.a.createElement(be.a,{fontSize:"small"})),void 0!==e.products&&0!==e.products.length&&r.a.createElement("datalist",{id:"browsers"},e.products.map((function(e,t){return r.a.createElement("option",{key:t,value:e.prodName})}))))))})),ye=function(e){return{type:"SELECTED_PRODUCT",payload:{product:e}}},je=function(e,t){return{type:"ADD_TO_CART",payload:{cart:e}}},Ce=function(e){return console.log(e),{type:"USER_PROFILE_UPDATE_ACTION",payload:{profileInfo:e}}},we=function(e){return{type:"PRODUCTS_UPDATE_PRODUCTS",payload:{products:e}}},Ie={addToCart:je,removeProfile:function(){return{type:"USER_PROFILE_REMOVE_ACTION",payload:{}}},selectedProduct:ye,updateLoggedInUser:R,updateProducts:we,updateProfile:Ce},Se=Object(i.g)(Object(L.b)((function(e){return e}),Ie)((function(e){var t=n.useState(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],l=n.useState([]),o=Object(s.a)(l,2),i=o[0],m=o[1];n.useEffect((function(){f(),E()}),[]),n.useEffect((function(){}),[e]);var f=function(){N.a.auth().onAuthStateChanged((function(t){null!==t&&void 0!==t&&(localStorage.setItem("uid",t.uid),e.updateLoggedInUser(t.uid),p(t.uid)),null!==t&&void 0!==t||(e.addToCart([]),e.removeProfile())}))},p=function(t){var a=N.a.firestore();a.collection("users").doc(t).get().then((function(t){if(t.exists){var a=t.data();a.wishlist,e.addToCart(t.data().wishlist),e.updateProfile(t.data().profile)}else console.log("No such document!")})).catch((function(e){return console.log(e)}))},E=function(){if(console.log("69",e.products),0===e.products.length){var t=N.a.firestore(),a=[];t.collection("products").get().then((function(t){t.forEach((function(t){var n={id:t.id},r=Object(u.a)(Object(u.a)({},n),t.data());a.push(r),m(a),e.updateProducts(a)}))}))}else m(e.products)};return n.createElement(n.Fragment,null,n.createElement(d.a,{container:!0,spacing:2},n.createElement(d.a,{item:!0,xs:12},n.createElement(he,Object.assign({openSideNavBar:function(){c(!0)}},e)),n.createElement(Oe,{products:0!==e.products.length?e.products:i}),n.createElement(re,{onClick:function(t){var a=i.filter((function(e){return e.prodId===t}));e.selectedProduct(a[0]),e.history.push("/product/"+t)},products:0!==e.products.length?e.products:i}))),n.createElement($,{open:r,onClickAway:function(){c(!1)}}))})));var Ne=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"pagenotfound"},r.a.createElement("h1",null," 404 Error. Page Not Found "),r.a.createElement(o.b,{className:"link",to:"/dashboard"},"Click Here to go to Dashboard")))},ke=a(215),Pe=a(216),Ue=a(111),De=a.n(Ue);function Te(e){return r.a.createElement(pe.a,Object.assign({style:{marginTop:"2px"},elevation:6,variant:"filled"},e))}var xe={addToCart:je},Ae=Object(i.g)(Object(L.b)((function(e){return e}),xe)((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),i=Object(s.a)(o,2),m=i[0],f=i[1],p=Object(n.useState)(""),E=Object(s.a)(p,2),g=E[0],h=E[1],v=r.a.useState([]),b=Object(s.a)(v,2),O=b[0],y=b[1],j=Object(n.useState)("Add To Cart"),I=Object(s.a)(j,2),S=I[0],k=I[1],P=r.a.useRef(null),U=e.selectedProduct;r.a.useEffect((function(){D()}),[]);var D=function(){if(0===e.products.length){var t=N.a.firestore(),a=[];t.collection("products").get().then((function(t){t.forEach((function(t){var n={id:t.id},r=Object(u.a)(Object(u.a)({},n),t.data());a.push(r),y(a),e.updateProducts(a)}))}))}},T=function(){f(!1)};return r.a.createElement("div",null,r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(he,Object.assign({openSideNavBar:function(){l(!0)}},e)),r.a.createElement(Oe,{products:0!==e.products.length?e.products:O}))),r.a.createElement($,{open:c,onClickAway:function(){l(!1)}}),r.a.createElement(C.a,{raised:!1},r.a.createElement(ee.a,null,r.a.createElement("h3",null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",U.product.prodCategory),r.a.createElement(te.a,null,r.a.createElement("img",{style:{display:"block",marginLeft:"auto",marginRight:"auto",width:"100%"},src:"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Products/1.jpg",width:"300",height:"300",alt:"product"}),r.a.createElement(w.a,{title:U.product.prodName,subheader:U.product.prodDesc}),r.a.createElement(ke.a,null,r.a.createElement("h2",null,"\u20b9",U.product.prodPrice)),r.a.createElement("div",null,r.a.createElement(Pe.a,{size:"large",style:{width:"49.5%"},variant:"contained",color:"primary",disableElevation:!0,onClick:function(){if(""===e.auth.loggedInUserUID)f(!0),h("Please Login First");else{var t=e.cart.cart;t.push(U.product.prodId),e.addToCart(t,e.auth.loggedInUserUID),function(e,t){var a=N.a.firestore();""!==t&&a.collection("users").doc(t).set({wishlist:e}).then((function(e){})).catch((function(e){}))}(t,e.auth.loggedInUserUID),f(!0),h("Added to Cart successfully"),k("Add To Cart"),P.current.disabled=!0}},ref:P,endIcon:r.a.createElement(M.a,null)},S),"\xa0",r.a.createElement(Pe.a,{size:"large",style:{width:"49.5%",margin:"auto"},variant:"contained",color:"secondary",disableElevation:!0,onClick:function(){e.history.push("/cart")},endIcon:r.a.createElement(De.a,null)},"Buy Now"))))),r.a.createElement(fe.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:m,autoHideDuration:3e3,onClose:T},r.a.createElement(Te,{onClose:T,severity:"Please Login First"===g?"error":"success"},g)))}))),Le=a(217),Re=a(211),Fe=a(39),_e=a(114),ze=a.n(_e),Me=a(113),Be=a.n(Me),Ge=a(112),He=a.n(Ge),Ve=Object(m.a)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{width:100,height:100},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)},playIcon:{height:38,width:38}}})),Je={addToCart:je},We=Object(L.b)((function(e){return e}),Je)((function(e){var t=r.a.useState(1),a=Object(s.a)(t,2),n=a[0],c=a[1],l=r.a.useState(e.cartItem.prodPrice),o=Object(s.a)(l,2),i=o[0],u=o[1],d=Ve(),m=r.a.useRef(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginLeft:"15px"}},r.a.createElement(C.a,{className:d.root},r.a.createElement("div",{className:d.details},r.a.createElement(te.a,{className:d.content},r.a.createElement(Fe.a,{component:"h5",variant:"h5"},e.cartItem.prodName),r.a.createElement(Fe.a,{variant:"subtitle1",color:"textSecondary"},e.cartItem.prodDesc),r.a.createElement(Fe.a,{variant:"h6",component:"h6"},"\u20b9",i)),r.a.createElement("div",{className:d.controls},r.a.createElement(Re.a,{ref:m,onClick:function(){if(n>1){var t=n-1;c(t),u(e.cartItem.prodPrice*t)}},"aria-label":"previous"},r.a.createElement(He.a,null)),r.a.createElement(Re.a,{"aria-label":"quantity"},r.a.createElement("p",null,"Qty:",n)),r.a.createElement(Re.a,{onClick:function(){if(n<e.cartItem.prodQuantity){var t=n+1;c(t),u(e.cartItem.prodPrice*t)}},"aria-label":"next"},r.a.createElement(Be.a,null)),r.a.createElement(Re.a,{onClick:function(){e.deleteItem(e.cartItem.prodId)},"aria-label":"delete"},r.a.createElement(ze.a,null)))),r.a.createElement(Le.a,{className:d.cover,image:"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Products/1.jpg",title:"Live from space album cover"}))),r.a.createElement("br",null))})),Ye=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){e.products.length>0&&setTimeout((function(){l(!0)}),2e3)}),[e.products]);var o=function(t){e.deleteSelectedItem(t)};return r.a.createElement("div",null,!0===c?e.products.map((function(e,t){return r.a.createElement(We,{cartItem:e,key:t,deleteItem:o})})):!0!==e.emptyCart?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement(ne.a,{variant:"rect",width:300,height:50,animation:"wave"}))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement(ne.a,{variant:"rect",width:170,height:170,animation:"wave"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement(ne.a,{variant:"rect",width:170,height:170,animation:"wave"}))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement(ne.a,{variant:"rect",width:300,height:50,animation:"wave"})))):r.a.createElement("h3",{style:{marginLeft:"10px"}},e.emptyCartMessage))},qe={addToCart:je,updateProducts:we},Ke=Object(i.g)(Object(L.b)((function(e){return e}),qe)((function(e){var t=r.a.useState([]),a=Object(s.a)(t,2),c=a[0],l=a[1],o=r.a.useState([]),i=Object(s.a)(o,2),m=i[0],f=i[1],p=Object(n.useState)(!1),E=Object(s.a)(p,2),g=E[0],h=E[1],v=Object(n.useState)(!1),b=Object(s.a)(v,2),O=b[0],y=b[1],j=Object(n.useState)(""),C=Object(s.a)(j,2),w=C[0],I=C[1],S=Object(n.useState)(!1),k=Object(s.a)(S,2),P=k[0],U=k[1],D=Object(n.useState)(!1),T=Object(s.a)(D,2);T[0],T[1];r.a.useEffect((function(){A(),console.log(e),x(),U(0===e.cart.cart.length),I(""===e.auth.loggedInUserUID?"Please login to see your cart":"No Items in Your cart")}),[]);var x=function(){if(0===e.products.length){var t=N.a.firestore(),a=[];t.collection("products").get().then((function(t){t.forEach((function(t){var n={id:t.id},r=Object(u.a)(Object(u.a)({},n),t.data());a.push(r),f(a),e.updateProducts(a)}))}))}},A=function(){var t=N.a.firestore(),a=[];e.cart.cart.forEach((function(e){t.collection("products").where("prodId","==",e).get().then((function(e){e.forEach((function(e){var t={id:e.id},n=Object(u.a)(Object(u.a)({},t),e.data());a.push(n),l(a)}))}))}))},L=function(e,t){N.a.firestore().collection("users").doc(t).set({wishlist:e}).then((function(e){})).catch((function(e){}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(he,Object.assign({openSideNavBar:function(){h(!0)}},e)),r.a.createElement(Oe,{products:0!==e.products.length?e.products:m})),r.a.createElement("div",null,r.a.createElement("h3",null,"\xa0\xa0\xa0\xa0\xa0\xa0Your Cart:"),r.a.createElement(Ye,{onClick:function(){},products:c,deleteSelectedItem:function(t){var a=e.cart.cart.indexOf(t),n=e.cart.cart;n.splice(a,1),c.splice(a,1),y(!O),e.addToCart(n),L(n,e.auth.loggedInUserUID)},emptyCart:P,emptyCartMessage:w}))),r.a.createElement($,{open:g,onClickAway:function(){h(!1)}}))}))),Qe=a(40),Xe=a(223),Ze=a(218),$e=a(219),et=a(229),tt=a(222),at=a(220),nt=a(221),rt=(a(93),Object(m.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))),ct=Object(i.g)(Object(L.b)((function(e){return e}),null)((function(e){var t=rt(),a=Object(n.useState)(!1),c=Object(s.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(""),m=Object(s.a)(i,2),f=m[0],p=m[1],E=Object(n.useState)(!1),g=Object(s.a)(E,2),h=g[0],v=g[1],b=r.a.useState({email:"",password:"",showPassword:!1}),O=Object(s.a)(b,2),y=O[0],j=O[1],C=function(e){return function(t){j(Object(u.a)(Object(u.a)({},y),{},Object(Qe.a)({},e,t.target.value)))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(he,Object.assign({openSideNavBar:function(){o(!0)}},e))),r.a.createElement("div",{id:"login-form"},r.a.createElement("form",null,r.a.createElement("p",{style:{color:"red"}},f),r.a.createElement("div",{id:"login-field"},r.a.createElement(Xe.a,{id:"outlined-basic",label:"Email",variant:"outlined",value:y.email,onChange:C("email")})),r.a.createElement("div",{id:"login-field"},r.a.createElement(Ze.a,{id:"filled-adornment-password",type:y.showPassword?"text":"password",value:y.password,onChange:C("password"),endAdornment:r.a.createElement($e.a,{position:"end"},r.a.createElement(Re.a,{"aria-label":"toggle password visibility",onClick:function(){j(Object(u.a)(Object(u.a)({},y),{},{showPassword:!y.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},y.showPassword?r.a.createElement(at.a,null):r.a.createElement(nt.a,null)))})),r.a.createElement(Pe.a,{onClick:function(){v(!0),N.a.auth().signInWithEmailAndPassword(y.email,y.password).then((function(t){e.history.push("/login")})).catch((function(e){v(!1),"auth/wrong-password"===e.code?p("The Email or Password is incorrect."):"auth/user-not-found"===e.code&&p("No Account found. Please sign up.")}))},variant:"contained",color:"primary"},"Login")),r.a.createElement("p",null,"Don't have an Account? ",r.a.createElement("span",{onClick:function(){e.history.push("/signup")},style:{textDecoration:"underline",color:"blue"}},"Create New Account")))),r.a.createElement($,{open:l,onClickAway:function(){o(!1)}}),r.a.createElement(et.a,{className:t.backdrop,open:h,onClick:function(e){v(!1)}},r.a.createElement(tt.a,{color:"inherit"})))}))),lt=Object(m.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),ot=Object(i.g)(Object(L.b)((function(e){return e}),null)((function(e){var t=lt(),a=Object(n.useState)(!1),c=Object(s.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(""),m=Object(s.a)(i,2),f=m[0],p=m[1],E=Object(n.useState)(!1),g=Object(s.a)(E,2),h=g[0],v=g[1],b=r.a.useState({email:"",name:"",password:"",showPassword:!1}),O=Object(s.a)(b,2),y=O[0],j=O[1],C=function(e){return function(t){j(Object(u.a)(Object(u.a)({},y),{},Object(Qe.a)({},e,t.target.value)))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(he,Object.assign({openSideNavBar:function(){o(!0)}},e))),r.a.createElement("div",{id:"login-form"},r.a.createElement("form",null,r.a.createElement("p",{style:{color:"red"}},f),r.a.createElement("div",{id:"login-field"},r.a.createElement(Xe.a,{id:"outlined-basic",label:"Full Name",variant:"outlined",value:y.name,onChange:C("name")})),r.a.createElement("div",{id:"login-field"},r.a.createElement(Xe.a,{id:"outlined-basic",label:"Email",variant:"outlined",value:y.email,onChange:C("email")})),r.a.createElement("div",{id:"login-field"},r.a.createElement(Ze.a,{id:"filled-adornment-password",type:y.showPassword?"text":"password",value:y.password,onChange:C("password"),endAdornment:r.a.createElement($e.a,{position:"end"},r.a.createElement(Re.a,{"aria-label":"toggle password visibility",onClick:function(){j(Object(u.a)(Object(u.a)({},y),{},{showPassword:!y.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},y.showPassword?r.a.createElement(at.a,null):r.a.createElement(nt.a,null)))})),r.a.createElement(Pe.a,{onClick:function(){v(!0),N.a.auth().createUserWithEmailAndPassword(y.email,y.password).then((function(t){alert("Account Created Successfully ! Please Login Now"),e.history.push("/login")})).catch((function(e){v(!1),"auth/email-already-in-use"===e.code?p("Email already in use."):p(e.message)}))},variant:"contained",color:"primary"},"Sign up")))),r.a.createElement($,{open:l,onClickAway:function(){o(!1)}}),r.a.createElement(et.a,{className:t.backdrop,open:h,onClick:function(e){v(!1)}},r.a.createElement(tt.a,{color:"inherit"})))}))),it=(a(148),{updateProfile:Ce}),ut=Object(i.g)(Object(L.b)((function(e){return e}),it)((function(e){var t=r.a.useState(!1),a=Object(s.a)(t,2),n=a[0],c=a[1],l=r.a.useState({name:"",email:"",contactPhone:"",addressType:"",doorNo:"",street:"",city:"",landmark:"",state:"",instructions:""}),o=Object(s.a)(l,2),i=o[0],m=o[1],f=r.a.useState(!1),p=Object(s.a)(f,2),E=p[0],g=p[1],h=function(){g(!1)};r.a.useEffect((function(){m({name:e.profile.name,email:e.profile.email,contactPhone:e.profile.contactPhone,addressType:e.profile.addressType,doorNo:e.profile.doorNo,street:e.profile.street,city:e.profile.city,landmark:e.profile.landmark,state:e.profile.state,instructions:e.profile.instructions})}),[e]);var v=function(e){return function(t){m(Object(u.a)(Object(u.a)({},i),{},Object(Qe.a)({},e,t.target.value)))}};return r.a.createElement("div",null,r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(he,Object.assign({openSideNavBar:function(){c(!0)}},e)),r.a.createElement(Oe,null))),r.a.createElement($,{open:n,onClickAway:function(){c(!1)}}),r.a.createElement("div",{id:"login-form"},r.a.createElement("div",{id:"login-field"},r.a.createElement("h3",null,"My Profile"),r.a.createElement(Xe.a,{variant:"outlined",className:"form-field",name:"name",label:"Name",value:i.name,onChange:v("name")})),r.a.createElement("div",{id:"login-field"},r.a.createElement(Xe.a,{variant:"outlined",label:"Email",className:"form-field",name:"email",value:i.email,onChange:v("email")})),r.a.createElement("div",{id:"login-field"},r.a.createElement(Xe.a,{variant:"outlined",className:"form-field",label:"Contact Phone",name:"contactPhone",value:i.contactPhone,onChange:v("contactPhone")})),r.a.createElement("h4",null,"Address"),r.a.createElement("div",{id:"login-field"},r.a.createElement(Xe.a,{variant:"outlined",className:"form-field",name:"addressType",label:"Address Type",value:i.addressType,onChange:v("addressType")})),r.a.createElement("div",{id:"login-field"},r.a.createElement(Xe.a,{variant:"outlined",className:"form-field",label:"Door No",name:"doorNo",value:i.doorNo,onChange:v("doorNo")})),r.a.createElement("div",{id:"login-field"},r.a.createElement(Xe.a,{variant:"outlined",label:"Street/Block",className:"form-field",name:"street",value:i.street,onChange:v("street")})),r.a.createElement("div",{id:"login-field"},r.a.createElement(Xe.a,{variant:"outlined",label:"City",className:"form-field",value:i.city,name:"city",onChange:v("city")})),r.a.createElement("div",{id:"login-field"},r.a.createElement(Xe.a,{variant:"outlined",className:"form-field",label:"Landmark",name:"landmark",value:i.landmark,onChange:v("landmark")})),r.a.createElement("div",{id:"login-field"},r.a.createElement(Xe.a,{variant:"outlined",className:"form-field",name:"state",label:"State",value:i.state,onChange:v("state")})),r.a.createElement("div",{id:"login-field"},r.a.createElement(Xe.a,{variant:"outlined",className:"form-field",name:"instructions",label:"Delivery Instructions",value:i.instructions,onChange:v("instructions")})),r.a.createElement("div",{id:"login-field"},r.a.createElement(Pe.a,{onClick:function(){var t=N.a.firestore();e.updateProfile(i),""!==e.auth.loggedInUserUID&&t.collection("users").doc(e.auth.loggedInUserUID).set({profile:i},{merge:!0}).then((function(e){g(!0)})).catch((function(e){}))},style:{padding:"10px 83px"},variant:"contained",color:"primary"},"Update"))),r.a.createElement(fe.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:E,autoHideDuration:3e3,onClose:h},r.a.createElement(pe.a,{variant:"filled",onClose:h,severity:"success"},"Profile Updated Successfully")))}))),st=a(85),dt={selectedProduct:ye},mt=Object(i.g)(Object(L.b)((function(e){return e}),dt)((function(e){var t=r.a.useState(!1),a=Object(s.a)(t,2),n=a[0],c=a[1],l=r.a.useState([]),o=Object(s.a)(l,2),i=o[0],u=o[1];r.a.useEffect((function(){console.log(e),m()}),[]);var m=function(){var t=e.products,a=String(decodeURI(e.location.search.split("=")[1])),n=new Set(t.filter((function(e){return-1!==String(e.prodName).toLowerCase().search(String(a).toLowerCase())}))),r=new Set(t.filter((function(e){return-1!==String(e.prodDesc).toLowerCase().search(String(a).toLowerCase())}))),c=Array.from(new Set([].concat(Object(st.a)(n),Object(st.a)(r))));u(c)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(he,Object.assign({openSideNavBar:function(){c(!0)}},e)),r.a.createElement(Oe,{products:e.products}),r.a.createElement($,{open:n,onClickAway:function(){c(!1)}}),r.a.createElement("div",null,r.a.createElement("h3",null,"'",i.length,"' result(s) for ",decodeURI(e.location.search.split("=")[1])),r.a.createElement(re,{onClick:function(t){var a=e.products.filter((function(e){return e.prodId===t}));e.selectedProduct(a[0]),e.history.push("/product/"+t)},products:i})))))}))),ft=function(){return n.createElement(n.Fragment,null,n.createElement(o.a,{basename:"/"},n.createElement(i.d,null,n.createElement(i.b,{exact:!0,path:"/tsm/",render:function(){return n.createElement(i.a,{to:"/login"})}}),n.createElement(i.b,{exact:!0,path:"/",render:function(){return n.createElement(i.a,{to:"/login"})}}),n.createElement(i.b,{exact:!0,path:"/login",render:function(){return n.createElement(Se,null)}}),n.createElement(i.b,{exact:!0,path:"/product/:id",render:function(){return n.createElement(Ae,null)}}),n.createElement(i.b,{exact:!0,path:"/cart",render:function(){return n.createElement(Ke,null)}}),n.createElement(i.b,{exact:!0,path:"/login-user",render:function(){return n.createElement(ct,null)}}),n.createElement(i.b,{exact:!0,path:"/signup",render:function(){return n.createElement(ot,null)}}),n.createElement(i.b,{exact:!0,path:"/my-profile",render:function(){return n.createElement(ut,null)}}),n.createElement(i.b,{exact:!0,path:"/search",render:function(){return n.createElement(mt,null)}}),n.createElement(i.b,{render:function(){return n.createElement(n.Fragment,null,n.createElement(A,null,n.createElement(Ne,null)))}}))))},pt=function(e){return n.createElement(n.Fragment,null,n.createElement(ft,null))},Et=a(115),gt=a(50),ht=a(116),vt={email:"",fname:"",token:"",loggedInUserUID:""},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;return"login"===t.type||"logout"===t.type?t.payload:"USER_LOGGED_IN"===t.type?Object(u.a)(Object(u.a)({},e),{},{loggedInUserUID:t.payload.loggedInUserUID}):e},Ot={cart:[]},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;return"ADD_TO_CART"===t.type?t.payload:"REMOVE_FROM_CART"===t.type?[]:e},jt={cart:{}},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;return"SELECTED_PRODUCT"===t.type?t.payload:"REMOVE_SELECTED_PRODUCT"===t.type?{}:e},wt={profile:{}},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;return"USER_PROFILE_UPDATE_ACTION"===t.type?t.payload.profileInfo:"USER_PROFILE_REMOVE_ACTION"===t.type?t.payload:e},St={products:[]},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;return"PRODUCTS_UPDATE_PRODUCTS"===t.type?t.payload.products:e},kt=Object(gt.c)({auth:bt,cart:yt,products:Nt,profile:It,selectedProduct:Ct}),Pt={apiKey:"AIzaSyDgNp4bVTjGzkFd0OgnPMdcgjK7jESUohk",authDomain:"thangam-super-market.firebaseapp.com",databaseURL:"https://thangam-super-market.firebaseio.com",projectId:"thangam-super-market",storageBucket:"thangam-super-market.appspot.com",messagingSenderId:"72123817790",appId:"1:72123817790:web:a05b06fbd0b17c8f7e166f",measurementId:"G-YQJXPD6EEY"};Et.a.initializeApp(Pt);var Ut=function(){try{var e=localStorage.getItem("state");if(null==e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),Dt=Object(gt.d)(kt,Ut,Object(gt.a)(ht.a));Dt.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}}(Dt.getState())})),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L.a,{store:Dt},r.a.createElement(pt,null))),document.getElementById("root"))},93:function(e,t,a){}},[[130,1,2]]]);
//# sourceMappingURL=main.2a70873f.chunk.js.map